(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c30aeb18"],{"3e8f":function(e,t){},af4d:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[o("el-container",[o("el-header",{staticStyle:{"text-align":"left","font-size":"50px"}},[o("div",{staticStyle:{"margin-top":"15px"}},[o("el-form-item",{staticStyle:{"text-align":"left"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addgroupvis=!0}}},[e._v("新增用户组")])],1),o("el-form-item",{staticStyle:{"text-align":"left"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addpersonvis=!0}}},[e._v("新增成员")])],1),o("el-form-item",{staticStyle:{"text-align":"left"}},[o("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1),o("el-form-item",{staticStyle:{"text-align":"left"}},[o("el-button",{attrs:{type:"primary"},on:{click:e.refresh}},[e._v("刷新")])],1)],1)])],1),o("el-container",[o("el-header",{staticStyle:{"text-align":"left","font-size":"50px"}},[o("el-form-item",{attrs:{label:""}},[o("el-select",{attrs:{placeholder:"请选择用户组"},model:{value:e.groupname,callback:function(t){e.groupname=t},expression:"groupname"}},e._l(e.groups,(function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),o("el-main",[o("el-collapse",{staticStyle:{width:"60%"},on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[o("el-collapse-item",{attrs:{title:"消息通知机器人地址",name:"1"}},[o("el-input",{staticStyle:{width:"900px"},attrs:{placeholder:"消息机器人地址",clearable:""},model:{value:e.roboturl,callback:function(t){e.roboturl=t},expression:"roboturl"}})],1),o("el-collapse-item",{attrs:{title:"用户组工作日历",name:"2"}},[o("table",[o("tr",[o("td",{attrs:{align:"center"}},[o("h4",[e._v("上午工作时间")])]),o("td",{attrs:{align:"center"}},[o("h4",[e._v("下午工作时间")])])]),o("tr",[o("td",[o("el-time-select",{attrs:{placeholder:"起始时间","picker-options":{start:"06:00",step:"00:15",end:"12:00"}},model:{value:e.worktimemorningonduty,callback:function(t){e.worktimemorningonduty=t},expression:"worktimemorningonduty"}}),o("el-time-select",{attrs:{placeholder:"结束时间","picker-options":{start:"06:00",step:"00:15",end:"12:00",minTime:e.worktimemorningonduty}},model:{value:e.worktimemorningoffduty,callback:function(t){e.worktimemorningoffduty=t},expression:"worktimemorningoffduty"}})],1),o("td",[o("el-time-select",{attrs:{placeholder:"起始时间","picker-options":{start:"12:00",step:"00:15",end:"22:00"}},model:{value:e.worktimeafternoononduty,callback:function(t){e.worktimeafternoononduty=t},expression:"worktimeafternoononduty"}}),o("el-time-select",{attrs:{placeholder:"结束时间","picker-options":{start:"12:00",step:"00:15",end:"22:00",minTime:e.worktimeafternoononduty}},model:{value:e.worktimeafternoonoffduty,callback:function(t){e.worktimeafternoonoffduty=t},expression:"worktimeafternoonoffduty"}})],1)])])])],1)],1)],1),o("el-container",[o("el-main",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.personlist,"default-sort":{prop:"personnumber",order:"ascending"},border:"",fit:"","highlight-current-row":""}},[o("el-table-column",{attrs:{prop:"personnumber",label:"编号",width:"180",align:"center",sortable:""}}),o("el-table-column",{attrs:{prop:"personname",label:"姓名",width:"180",align:"center",sortable:""}}),o("el-table-column",{attrs:{prop:"personphone",label:"电话",width:"300",align:"center",sortable:""}}),o("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(o){return e.editperson(t.row.personnumber)}}}),o("el-button",{attrs:{type:"primary",icon:"el-icon-delete",size:"mini"},on:{click:function(o){return e.deleteperson(t.row.personnumber)}}})]}}])})],1)],1)],1),o("el-container",[o("el-main",[o("el-dialog",{attrs:{title:"新增成员",visible:e.addpersonvis,width:"30%"},on:{"update:visible":function(t){e.addpersonvis=t},close:e.addpersonclose}},[o("el-form",{ref:"addref",attrs:{model:e.addmsg,rules:e.addrule,"label-width":"70px"}},[o("el-form-item",{attrs:{label:"编号",prop:"personnumber"}},[o("el-input",{model:{value:e.addmsg.personnumber,callback:function(t){e.$set(e.addmsg,"personnumber",t)},expression:"addmsg.personnumber"}})],1),o("el-form-item",{attrs:{label:"姓名",prop:"personname"}},[o("el-input",{model:{value:e.addmsg.personname,callback:function(t){e.$set(e.addmsg,"personname",t)},expression:"addmsg.personname"}})],1),o("el-form-item",{attrs:{label:"手机号",prop:"personphone"}},[o("el-input",{model:{value:e.addmsg.personphone,callback:function(t){e.$set(e.addmsg,"personphone",t)},expression:"addmsg.personphone"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.addpersonvis=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.addconfirm}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"编辑成员",visible:e.editpersonvis,width:"30%"},on:{"update:visible":function(t){e.editpersonvis=t},close:e.editpersonclose}},[o("el-form",{ref:"editref",attrs:{model:e.editmsg,rules:e.editrule,"label-width":"70px"}},[o("el-form-item",{attrs:{label:"编号",prop:"personnumber"}},[o("el-input",{attrs:{disabled:""},model:{value:e.editmsg.personnumber,callback:function(t){e.$set(e.editmsg,"personnumber",t)},expression:"editmsg.personnumber"}})],1),o("el-form-item",{attrs:{label:"姓名",prop:"personname"}},[o("el-input",{model:{value:e.editmsg.personname,callback:function(t){e.$set(e.editmsg,"personname",t)},expression:"editmsg.personname"}})],1),o("el-form-item",{attrs:{label:"手机号",prop:"personphone"}},[o("el-input",{model:{value:e.editmsg.personphone,callback:function(t){e.$set(e.editmsg,"personphone",t)},expression:"editmsg.personphone"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.editpersonvis=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.editconfirm}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"新增用户组",visible:e.addgroupvis,width:"30%"},on:{"update:visible":function(t){e.addgroupvis=t},close:e.addgroupclose}},[o("el-form",{ref:"addgroupref",attrs:{model:e.addgroupmsg,rules:e.addgrouprule,"label-width":"95px"}},[o("el-form-item",{attrs:{label:"用户组编号",prop:"groupnumber"}},[o("el-input",{model:{value:e.addgroupmsg.groupnumber,callback:function(t){e.$set(e.addgroupmsg,"groupnumber",t)},expression:"addgroupmsg.groupnumber"}})],1),o("el-form-item",{attrs:{label:"用户组名称",prop:"groupname"}},[o("el-input",{model:{value:e.addgroupmsg.groupname,callback:function(t){e.$set(e.addgroupmsg,"groupname",t)},expression:"addgroupmsg.groupname"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.addgroupvis=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.addgroupconfirm}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"操作确认",visible:e.deletepersonvis,width:"30%"},on:{"update:visible":function(t){e.deletepersonvis=t},close:e.deletepersonclose}},[o("el-form",{ref:"deleteref",attrs:{model:e.deletemsg,rules:e.deleterule,"label-width":"70px"}},[o("h3",{attrs:{align:"center"}},[e._v("确定要删除该数据吗？")])]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.deletepersonvis=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.deleteconfirm}},[e._v("确 定")])],1)],1)],1)],1)],1)},n=[],s=o("bc3a"),i=o.n(s),a=(o("3e8f"),{data:function(){return{worktimemorningonduty:"",worktimemorningoffduty:"",worktimeafternoononduty:"",worktimeafternoonoffduty:"",roboturl:"",groupdata:{},personlist:[],groupname:"共享组",groups:[],addpersonvis:!1,addmsg:{groupname:"",personnumber:"",personname:"",personphone:""},addrule:{personnumber:[{required:!0,message:"请输入编号",trigger:"blur"}],personname:[{required:!0,message:"请输入名称",trigger:"blur"}],personphone:[{required:!0,message:"请输入手机号",trigger:"blur"}]},editpersonvis:!1,editmsg:{groupname:"",personnumber:"",personname:"",personphone:""},editrule:{personnumber:[{required:!0,message:"请输入编号",trigger:"blur"}],personname:[{required:!0,message:"请输入名称",trigger:"blur"}],personphone:[{required:!0,message:"请输入手机号",trigger:"blur"}]},addgroupvis:!1,addgroupmsg:{groupnumber:"",groupname:""},addgrouprule:{groupnumber:[{required:!0,message:"请输入用户组编号",trigger:"blur"}],groupname:[{required:!0,message:"请输入用户组名称",trigger:"blur"}]},deletepersonvis:!1,deletemsg:{personnumber:""},deleterule:{},activeNames:[""],formInline:{user:"",region:""}}},created:function(){this.getGroups(),this.getGroupsdata()},methods:{getGroups:function(){var e=this;i.a.post("http://172.18.1.169:8081/GroupConfigs/getGroups",{groupname:decodeURI("共享组")}).then((function(t){return e.groups=t.data}))},getGroupsdata:function(){var e=this;i.a.post("http://172.18.1.169:8081/GroupConfigs/getGroupDatas",{groupname:decodeURI("共享组")}).then((function(t){return e.groupdata=t.data}))},shownotification:function(e){this.$message({message:e,center:!0})},checkvalue:function(e){for(var t=!1,o=0;o<this.personlist.length;o++)e==this.personlist[o].personnumber&&(t=!0);return t},save:function(){var e={groupname:this.groupname,roboturl:this.roboturl,worktimemorningonduty:this.worktimemorningonduty,worktimemorningoffduty:this.worktimemorningoffduty,worktimeafternoononduty:this.worktimeafternoononduty,worktimeafternoonoffduty:this.worktimeafternoonoffduty,personlist:this.personlist};i.a.post("http://172.18.1.169:8081/GroupConfigs/save",e),this.shownotification("保存成功!!!"),this.refresh()},refresh:function(){var e=this;i.a.post("http://172.18.1.169:8081/GroupConfigs/refresh",{groupname:this.groupname}).then((function(t){return e.groupdata=t.data}))},addconfirm:function(){var e=this;this.$refs.addref.validate((function(t){t?e.checkvalue(e.addmsg.personnumber)?e.shownotification("编码重复，请重新填写！！！"):(e.personlist.push({personnumber:e.addmsg.personnumber,personname:e.addmsg.personname,personphone:e.addmsg.personphone}),i.a.post("http://172.18.1.169:8081/GroupConfigs/add",{groupname:e.groupname,personnumber:e.addmsg.personnumber,personname:e.addmsg.personname,personphone:e.addmsg.personphone}),e.addpersonvis=!1,e.shownotification("新增成员信息保存成功！！！")):e.shownotification("请填写编号、姓名及手机号")}))},addpersonclose:function(){this.$refs.addref.resetFields()},editperson:function(e){var t=this;this.editpersonvis=!0,i.a.post("http://172.18.1.169:8081/GroupConfigs/preedit",{groupname:this.groupname,personnumber:e}).then((function(e){return t.editmsg=e.data}))},editconfirm:function(){var e=this;this.$refs.editref.validate((function(t){t?(console.log(e.editmsg),i.a.post("http://172.18.1.169:8081/GroupConfigs/edit",{groupname:e.groupname,personmsg:e.editmsg}),e.editpersonvis=!1,e.shownotification("保存成功！！！"),e.refresh()):e.shownotification("请填写姓名及手机号")}))},editpersonclose:function(){},addgroupconfirm:function(){var e=this;this.$refs.addgroupref.validate((function(t){t?e.checkvalue(e.addgroupmsg.groupnumber)?e.shownotification("编码重复，请重新填写！！！"):(i.a.post("http://172.18.1.169:8081/GroupConfigs/addgroup",{groupname:e.addgroupmsg.groupname}),e.addgroupvis=!1,e.shownotification("新增成员信息保存成功！！！"),e.getGroups):e.shownotification("请填写用户组名称、编号")}))},addgroupclose:function(){this.$refs.addgroupref.resetFields()},deleteperson:function(e){this.deletepersonvis=!0,this.deletemsg.personnumber=e},deleteconfirm:function(){i.a.post("http://172.18.1.169:8081/GroupConfigs/delete",{groupname:this.groupname,personnumber:this.deletemsg.personnumber}),this.deletepersonvis=!1,this.shownotification("删除成功！！！"),this.refresh()},deletepersonclose:function(){this.$refs.deleteref.resetFields()},handleChange:function(e){console.log(e)}},watch:{groupdata:function(e,t){this.personlist=e.personlist,this.roboturl=e.roboturl,this.worktimemorningonduty=e.worktimemorningonduty,this.worktimemorningoffduty=e.worktimemorningoffduty,this.worktimeafternoononduty=e.worktimeafternoononduty,this.worktimeafternoonoffduty=e.worktimeafternoonoffduty},groupname:function(e,t){var o=this;i.a.post("http://172.18.1.169:8081/GroupConfigs/getGroupDatas",{groupname:decodeURI(e)}).then((function(e){return o.groupdata=e.data}))}}}),l=a,p=o("2877"),u=Object(p["a"])(l,r,n,!1,null,null,null);t["default"]=u.exports}}]);