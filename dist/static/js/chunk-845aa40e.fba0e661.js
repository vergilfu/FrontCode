(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-845aa40e"],{4:function(e,t){},5:function(e,t){},f2d0:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[i("el-container",[i("el-header",{staticStyle:{"text-align":"left","font-size":"50px"}},[i("div",{staticStyle:{"margin-top":"15px"}},[i("el-form-item",{staticStyle:{"text-align":"left"}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addvis=!0}}},[e._v("新增配置项")])],1),i("el-form-item",{staticStyle:{"text-align":"left"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1),i("el-form-item",{staticStyle:{"text-align":"left"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.refresh}},[e._v("刷新")])],1)],1)])],1),i("el-container",[i("el-main",[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.systemconfigs,"default-sort":{prop:"configname",order:"ascending"},border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"configname",label:"配置项",width:"180",sortable:"",align:"center"}}),i("el-table-column",{attrs:{prop:"configvalue",label:"值",width:"1280",sortable:"",align:"center"}}),i("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return e.editdatas(t.row.configname)}}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-delete",size:"mini"},on:{click:function(i){return e.deletedatas(t.row.configname)}}})]}}])})],1)],1)],1),i("el-container",[i("el-main",[i("el-dialog",{attrs:{title:"新增配置项",visible:e.addvis,width:"30%"},on:{"update:visible":function(t){e.addvis=t},close:e.addclose}},[i("el-form",{ref:"addref",attrs:{model:e.addmsg,rules:e.addrule,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"配置项",prop:"configname"}},[i("el-input",{model:{value:e.addmsg.configname,callback:function(t){e.$set(e.addmsg,"configname",t)},expression:"addmsg.configname"}})],1),i("el-form-item",{attrs:{label:"值",prop:"configvalue"}},[i("el-input",{model:{value:e.addmsg.configvalue,callback:function(t){e.$set(e.addmsg,"configvalue",t)},expression:"addmsg.configvalue"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.addvis=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.addconfirm}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"编辑配置项",visible:e.editvis,width:"30%"},on:{"update:visible":function(t){e.editvis=t},close:e.editclose}},[i("el-form",{ref:"editref",attrs:{model:e.editmsg,rules:e.editrule,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"配置项",prop:"configname"}},[i("el-input",{attrs:{disabled:""},model:{value:e.editmsg.configname,callback:function(t){e.$set(e.editmsg,"configname",t)},expression:"editmsg.configname"}})],1),i("el-form-item",{attrs:{label:"值",prop:"configvalue"}},[i("el-input",{model:{value:e.editmsg.configvalue,callback:function(t){e.$set(e.editmsg,"configvalue",t)},expression:"editmsg.configvalue"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.editvis=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.editconfirm}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"操作确认",visible:e.deletevis,width:"30%"},on:{"update:visible":function(t){e.deletevis=t},close:e.deleteclose}},[i("el-form",{ref:"deleteref",attrs:{model:e.deletemsg,rules:e.deleterule,"label-width":"70px"}},[i("h3",{attrs:{align:"center"}},[e._v("确定要删除该数据吗？")])]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.deletevis=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.deleteconfirm}},[e._v("确 定")])],1)],1)],1)],1)],1)},o=[],s=(i("53fe"),i("bc3a")),a=i.n(s),l=(i("3e8f"),i("d485"),i("4be7"),{name:"system_configs",data:function(){return{systemconfigs:[],addvis:!1,addmsg:{configname:"",configvalue:""},addrule:{configname:[{required:!0,message:"配置项",trigger:"blur"}],configvalue:[{required:!0,message:"值",trigger:"blur"}]},editvis:!1,editmsg:{configname:"",configvalue:""},editrule:{configname:[{required:!0,message:"配置项",trigger:"blur"}],configvalue:[{required:!0,message:"值",trigger:"blur"}]},deletevis:!1,deletemsg:{configname:""},deleterule:{},activeNames:[""],formInline:{user:"",region:""}}},created:function(){this.getdatas()},methods:{getdatas:function(){var e=this;a.a.post("http://172.18.1.169:8081/SystemConfigs/getdatas",{time:decodeURI("now")}).then((function(t){return e.systemconfigs=t.data})),console.log(this.systemconfigs)},shownotification:function(e){this.$message({message:e,center:!0})},checkvalue:function(e){for(var t=!1,i=0;i<this.systemconfigs.length;i++)e==this.systemconfigs[i].configname&&(t=!0);return t},save:function(){var e=this.systemconfigs;a.a.post("http://172.18.1.169:8081/SystemConfigs/save",e),this.shownotification("保存成功!!!"),this.refresh()},refresh:function(){var e=this;a.a.post("http://172.18.1.169:8081/SystemConfigs/refresh",{time:decodeURI("now")}).then((function(t){return e.systemconfigs=t.data}))},addconfirm:function(){var e=this;this.$refs.addref.validate((function(t){t?e.checkvalue(e.addmsg.configname)?e.shownotification("配置项重复，请重新填写！！！"):(e.systemconfigs.push({configname:e.addmsg.configname,configvalue:e.addmsg.configvalue}),a.a.post("http://172.18.1.169:8081/SystemConfigs/add",{configname:e.addmsg.configname,configvalue:e.addmsg.configvalue}),e.addvis=!1,e.shownotification("新增配置项保存成功！！！")):e.shownotification("请填写配置项、值")}))},addclose:function(){this.$refs.addref.resetFields()},editdatas:function(e){var t=this;this.editvis=!0,a.a.post("http://172.18.1.169:8081/SystemConfigs/preedit",{configname:e}).then((function(e){return t.editmsg=e.data}))},editconfirm:function(){var e=this;this.$refs.editref.validate((function(t){t?(a.a.post("http://172.18.1.169:8081/SystemConfigs/edit",e.editmsg),e.editvis=!1,e.shownotification("保存成功！！！"),e.refresh()):e.shownotification("请填写配置项及值")}))},editclose:function(){},deletedatas:function(e){console.log(e),this.deletevis=!0,this.deletemsg.configname=e},deleteconfirm:function(){a.a.post("http://172.18.1.169:8081/SystemConfigs/delete",this.deletemsg),this.deletevis=!1,this.shownotification("删除成功！！！"),this.refresh()},deleteclose:function(){this.$refs.deleteref.resetFields()},handleChange:function(e){console.log(e)}}}),r=l,c=i("2877"),d=Object(c["a"])(r,n,o,!1,null,null,null);t["default"]=d.exports}}]);