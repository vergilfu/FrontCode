(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10c967bd"],{"09b9":function(t,e,n){"use strict";n("9502")},1276:function(t,e,n){"use strict";var i=n("d784"),s=n("44e7"),a=n("825a"),o=n("1d80"),r=n("4840"),l=n("8aa5"),c=n("50c4"),u=n("14c3"),d=n("9263"),h=n("d039"),m=[].push,p=Math.min,g=4294967295,f=!h((function(){return!RegExp(g,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(o(this)),a=void 0===n?g:n>>>0;if(0===a)return[];if(void 0===t)return[i];if(!s(t))return e.call(i,t,a);var r,l,c,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,f=new RegExp(t.source,h+"g");while(r=d.call(f,i)){if(l=f.lastIndex,l>p&&(u.push(i.slice(p,r.index)),r.length>1&&r.index<i.length&&m.apply(u,r.slice(1)),c=r[0].length,p=l,u.length>=a))break;f.lastIndex===r.index&&f.lastIndex++}return p===i.length?!c&&f.test("")||u.push(""):u.push(i.slice(p)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var s=o(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,s,n):i.call(String(s),e,n)},function(t,s){var o=n(i,t,this,s,i!==e);if(o.done)return o.value;var d=a(t),h=String(this),m=r(d,RegExp),v=d.unicode,x=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(f?"y":"g"),b=new m(f?d:"^(?:"+d.source+")",x),w=void 0===s?g:s>>>0;if(0===w)return[];if(0===h.length)return null===u(b,h)?[h]:[];var C=0,y=0,I=[];while(y<h.length){b.lastIndex=f?y:0;var E,T=u(b,f?h:h.slice(y));if(null===T||(E=p(c(b.lastIndex+(f?0:y)),h.length))===C)y=l(h,y,v);else{if(I.push(h.slice(C,y)),I.length===w)return I;for(var k=1;k<=T.length-1;k++)if(I.push(T[k]),I.length===w)return I;y=C=E}}return I.push(h.slice(C)),I}]}),!f)},"3e8f":function(t,e){},8486:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[n("el-container",[n("el-main",[n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-xs-12"},[n("div",[n("h1",{staticClass:"text-center m-b-lg"},[t._v("GPT-4.0")])]),n("div",{staticClass:"answer"},[n("div",{staticClass:"mb-3",attrs:{id:"chatWindow"}}),n("div",{staticClass:"input-group ipt",staticStyle:{display:"flex","justify-content":"center","align-items":"center",height:"auto","min-height":"50px"}},[n("div",{staticClass:"col-xs-12",staticStyle:{width:"400px",height:"auto","min-height":"50px"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.chatInput,expression:"chatInput"}],ref:"myTextarea",staticClass:"form-control",staticStyle:{width:"390px","border-color":"#e7eaec","border-width":"1px","min-height":"40px"},attrs:{rows:"1"},domProps:{value:t.chatInput},on:{input:function(e){e.target.composing||(t.chatInput=e.target.value)}}})]),n("el-button",{attrs:{type:"success"},on:{click:t.sendMessage}},[t._v("发送")])],1)])])])])])],1)],1)},s=[],a=(n("ac1f"),n("1276"),n("e9c4"),n("498a"),n("bc3a"),n("3e8f"),{data:function(){return{activeNames:[""],formInline:{user:"",region:""},maxTextareaHeight:200,chatInput:"",chatWindow:null,userIcon:n("8e93"),botIcon:n("8e93"),robotmsg:"",robotdom:null,robotmsgtol:[],websocket:null}},created:function(){var t=this;this.websocket=new WebSocket("ws://172.20.200.121:8090"),this.websocket.onmessage=function(e){t.robotmsg=e.data}},mounted:function(){this.chatWindow=document.getElementById("chatWindow"),this.$refs.myTextarea.addEventListener("input",this.adjustTextareaHeight)},methods:{adjustTextareaHeight:function(){this.$refs.myTextarea.style.height="auto",this.$refs.myTextarea.style.height=Math.min(this.$refs.myTextarea.scrollHeight,this.maxTextareaHeight)+"px"},dealwithstr:function(t){if(-1!==t.indexOf("\n\n")||-1!==t.indexOf("\n")){var e=t.split(/\n\n|\n/);this.robotdom.lastElementChild.textContent+=e[0];for(var n=1;n<e.length;n++){var i=document.createElement("p");i.textContent=e[n],this.robotdom.appendChild(i)}}else this.robotdom.lastElementChild.textContent+=t},addUserMessage:function(t){var e=document.createElement("div");e.className="row message-bubble1";var n=document.createElement("img");n.className="chat-icon",n.setAttribute("src",this.userIcon),console.log(this.userIcon);var i=document.createElement("p");i.className="message-text",i.innerHTML=t,e.appendChild(n),e.appendChild(i),this.chatWindow.appendChild(e),this.chatInput="",this.scrollToBottom(),this.websocket.send(JSON.stringify(t)),this.addBotMessage()},addBotMessage:function(){var t=document.createElement("div");t.className="row message-bubble2";var e=document.createElement("img");e.className="chat-icon",e.setAttribute("src",this.botIcon);var n=document.createElement("div"),i=document.createElement("p");i.textContent="",n.appendChild(i),t.appendChild(e),t.appendChild(n),this.chatWindow.appendChild(t),this.robotdom=n,this.scrollToBottom()},sendMessage:function(){var t=this.chatInput.trim();0!==t.length?this.addUserMessage(t):common_ops.alert("请输入内容！")},scrollToBottom:function(){var t=this;this.$nextTick((function(){t.chatWindow.scrollTop=t.chatWindow.scrollHeight}))}},watch:{robotmsg:function(t,e){this.dealwithstr(t)}}}),o=a,r=(n("09b9"),n("2877")),l=Object(r["a"])(o,i,s,!1,null,null,null);e["default"]=l.exports},"8e93":function(t,e,n){t.exports=n.p+"static/img/robot.8aaf7d7b.jpg"},9502:function(t,e,n){},e9c4:function(t,e,n){var i=n("23e7"),s=n("d066"),a=n("d039"),o=s("JSON","stringify"),r=/[\uD800-\uDFFF]/g,l=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,u=function(t,e,n){var i=n.charAt(e-1),s=n.charAt(e+1);return l.test(t)&&!c.test(s)||c.test(t)&&!l.test(i)?"\\u"+t.charCodeAt(0).toString(16):t},d=a((function(){return'"\\udf06\\ud834"'!==o("\udf06\ud834")||'"\\udead"'!==o("\udead")}));o&&i({target:"JSON",stat:!0,forced:d},{stringify:function(t,e,n){var i=o.apply(null,arguments);return"string"==typeof i?i.replace(r,u):i}})}}]);