(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17676bd9"],{"3e86":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("el-container",[a("el-header",{staticStyle:{"text-align":"left","font-size":"50px"}},[a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form-item",{staticStyle:{"text-align":"left"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addtask}},[t._v("新增任务")])],1),a("el-form-item",{staticStyle:{"text-align":"left"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1),a("el-form-item",{staticStyle:{"text-align":"left"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.refresh}},[t._v("刷新")])],1)],1)])],1),a("el-container",[a("el-header",{staticStyle:{"text-align":"left","font-size":"50px"}},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"请选择用户组"},model:{value:t.groupname,callback:function(e){t.groupname=e},expression:"groupname"}},t._l(t.groups,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),a("el-container",[a("el-main",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.taskmanagement,"default-sort":{prop:"taskorigin",order:"ascending"},border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"taskorigin",label:"任务类型",width:"120",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"taskid",label:"任务ID",width:"180",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"taskname",label:"任务名称",width:"280",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"taskfrequency",label:"任务通知频率",width:"150",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"sendstrategy",label:"任务发送策略",width:"150",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"taskdate",label:"任务执行日期",width:"180",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"taskexecuteid",label:"任务执行记录",width:"180",sortable:"",align:"center"}}),a("el-table-column",{attrs:{prop:"taskrel",label:"关联任务ID",width:"180",sortable:"",align:"center"}}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.edittask(e.row.taskid)}}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.deletetask(e.row.taskid)}}})]}}])})],1)],1)],1),a("el-container",[a("el-main",[a("el-dialog",{attrs:{title:"新增任务",visible:t.addtaskvis,width:"30%"},on:{"update:visible":function(e){t.addtaskvis=e},close:t.addtaskclose}},[a("el-form",{ref:"addref",attrs:{model:t.addmsg,rules:t.addrule,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"请选择任务",prop:"taskselect"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.taskid,callback:function(e){t.taskid=e},expression:"taskid"}},t._l(t.selectlist,(function(t){return a("el-option",{key:t.selectproduct.taskid,attrs:{label:t.label,value:t.selectproduct.taskid}})})),1)],1),a("el-form-item",{attrs:{label:"任务通知频率",prop:"taskfrequency"}},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"}),a("el-cascader",{attrs:{options:t.options,props:{expandTrigger:"hover"}},on:{change:t.handleChange},model:{value:t.addmsg.taskfrequency,callback:function(e){t.$set(t.addmsg,"taskfrequency",e)},expression:"addmsg.taskfrequency"}})],1)]),a("el-form-item",{attrs:{label:"任务发送策略",prop:"sendstrategy"}},[a("el-input",{model:{value:t.addmsg.sendstrategy,callback:function(e){t.$set(t.addmsg,"sendstrategy",e)},expression:"addmsg.sendstrategy"}})],1),a("el-form-item",{attrs:{label:"关联任务ID",prop:"taskrel"}},[a("el-input",{model:{value:t.addmsg.taskrel,callback:function(e){t.$set(t.addmsg,"taskrel",e)},expression:"addmsg.taskrel"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addtaskvis=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addconfirm}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑任务",visible:t.edittaskvis,width:"30%"},on:{"update:visible":function(e){t.edittaskvis=e},close:t.edittaskclose}},[a("el-form",{ref:"editref",attrs:{model:t.editmsg,rules:t.editrule,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"任务类型",prop:"taskorigin"}},[a("el-input",{attrs:{disabled:""},model:{value:t.editmsg.taskorigin,callback:function(e){t.$set(t.editmsg,"taskorigin",e)},expression:"editmsg.taskorigin"}})],1),a("el-form-item",{attrs:{label:"任务ID",prop:"taskid"}},[a("el-input",{attrs:{disabled:""},model:{value:t.editmsg.taskid,callback:function(e){t.$set(t.editmsg,"taskid",e)},expression:"editmsg.taskid"}})],1),a("el-form-item",{attrs:{label:"任务名称",prop:"taskname"}},[a("el-input",{attrs:{disabled:""},model:{value:t.editmsg.taskname,callback:function(e){t.$set(t.editmsg,"taskname",e)},expression:"editmsg.taskname"}})],1),a("el-form-item",{attrs:{label:"任务通知频率",prop:"taskfrequency"}},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"}),a("el-cascader",{attrs:{options:t.options,props:{expandTrigger:"hover"}},on:{change:t.handleChange},model:{value:t.editmsg.taskfrequency,callback:function(e){t.$set(t.editmsg,"taskfrequency",e)},expression:"editmsg.taskfrequency"}})],1)]),a("el-form-item",{attrs:{label:"任务发送策略",prop:"taskorigin"}},[a("el-input",{model:{value:t.editmsg.sendstrategy,callback:function(e){t.$set(t.editmsg,"sendstrategy",e)},expression:"editmsg.sendstrategy"}})],1),a("el-form-item",{attrs:{label:"关联任务ID",prop:"taskorigin"}},[a("el-input",{model:{value:t.editmsg.taskrel,callback:function(e){t.$set(t.editmsg,"taskrel",e)},expression:"editmsg.taskrel"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.edittaskvis=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.editconfirm}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"操作确认",visible:t.deletetaskvis,width:"30%"},on:{"update:visible":function(e){t.deletetaskvis=e},close:t.deletetaskclose}},[a("el-form",{ref:"deleteref",attrs:{model:t.deletemsg,rules:t.deleterule,"label-width":"70px"}},[a("h3",{attrs:{align:"center"}},[t._v("确定要删除该数据吗？")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.deletetaskvis=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteconfirm}},[t._v("确 定")])],1)],1)],1)],1)],1)},l=[],i=a("bc3a"),r=a.n(i),n=(a("3e8f"),{data:function(){return{options:[{value:"0",label:"每小时",children:[{value:"1",label:"上午每小时通知一次",children:[{value:"1",label:"下午每小时通知一次"},{value:"2",label:"下午每小时通知两次"},{value:"3",label:"下午每小时通知三次"}]},{value:"2",label:"上午每小时通知两次",children:[{value:"1",label:"下午每小时通知一次"},{value:"2",label:"下午每小时通知两次"},{value:"3",label:"下午每小时通知三次"}]},{value:"3",label:"上午每小时通知三次",children:[{value:"1",label:"下午每小时通知一次"},{value:"2",label:"下午每小时通知两次"},{value:"3",label:"下午每小时通知三次"}]}]},,{value:"1",label:"每天通知两次"},{value:"2",label:"每周通知两次"}],selectlist:[{selectproduct:{taskid:"",taskorigin:"",taskname:""},label:""}],taskid:"",taskmanagement:[],groupname:"共享组",groups:[],addtaskvis:!1,addmsg:{taskselect:this.taskid,taskfrequency:"",sendstrategy:"",taskrel:""},addrule:{taskselect:[{required:!0,message:"请选择任务",trigger:"blur"}],taskfrequency:[{required:!0,message:"请输入任务通知频率",trigger:"blur"}],sendstrategy:[{required:!0,message:"请输入任务发送策略",trigger:"blur"}]},edittaskvis:!1,editmsg:{groupname:"",taskid:"",taskname:"",taskorigin:"",taskfrequency:"",sendstrategy:"",taskrel:""},editrule:{taskid:[{required:!0,message:"请输入taskid",trigger:"blur"}],taskname:[{required:!0,message:"请输入任务名称",trigger:"blur"}],taskorigin:[{required:!0,message:"请输入任务类型",trigger:"blur"}],taskfrequency:[{required:!0,message:"请输入任务通知频率",trigger:"blur"}],sendstrategy:[{required:!0,message:"请输入任务发送策略",trigger:"blur"}]},deletetaskvis:!1,deletemsg:{taskid:""},deleterule:{},activeNames:[""],formInline:{user:"",region:""}}},created:function(){this.getGroups(),this.getTaskdata()},methods:{getGroups:function(){var t=this;r.a.post("http://172.18.1.169:8081/Normaltask/getGroups",{groupname:decodeURI("共享组")}).then((function(e){return t.groups=e.data}))},getTaskdata:function(){var t=this;r.a.post("http://172.18.1.169:8081/Normaltask/getTaskdata",{groupname:decodeURI("共享组")}).then((function(e){return t.taskmanagement=e.data}))},shownotification:function(t){this.$message({message:t,center:!0})},checkvalue:function(t){for(var e=!1,a=0;a<this.taskmanagement.length;a++)t==this.taskmanagement[a].taskid&&(e=!0);return e},save:function(){var t={groupname:this.groupname,taskmanagement:this.taskmanagement};r.a.post("http://172.18.1.169:8081/Normaltask/save",t),this.shownotification("保存成功!!!"),this.refresh()},refresh:function(){var t=this;r.a.post("http://172.18.1.169:8081/Normaltask/refresh",{groupname:this.groupname}).then((function(e){return t.taskmanagement=e.data}))},addtask:function(){var t=this;r.a.post("http://172.18.1.169:8081/Normaltask/getLookupvalue",{groupname:this.groupname,tasklist:this.taskmanagement}).then((function(e){return t.selectlist=e.data})),this.taskid="",this.addtaskvis=!0},addconfirm:function(){var t=this;this.$refs.addref.validate((function(e){e?(r.a.post("http://172.18.1.169:8081/Normaltask/addtask",{groupname:t.groupname,taskid:t.addmsg.taskselect,taskfrequency:t.addmsg.taskfrequency,sendstrategy:t.addmsg.sendstrategy,taskrel:t.addmsg.taskrel}),t.addtaskvis=!1,t.shownotification("新增任务信息保存成功！！！"),t.refresh()):t.shownotification("请填写任务类型、任务ID、任务名称、任务通知频率及任务发送策略")}))},addtaskclose:function(){this.$refs.addref.resetFields()},edittask:function(t){var e=this;this.edittaskvis=!0,r.a.post("http://172.18.1.169:8081/Normaltask/preedit",{groupname:this.groupname,taskid:t}).then((function(t){return e.editmsg=t.data}))},editconfirm:function(){var t=this;this.$refs.editref.validate((function(e){e?(r.a.post("http://172.18.1.169:8081/Normaltask/edit",{groupname:t.groupname,editmsg:t.editmsg}),t.edittaskvis=!1,t.shownotification("保存成功！！！"),t.refresh()):t.shownotification("请填写任务类型、任务ID、任务名称及任务通知频率")}))},edittaskclose:function(){},deletetask:function(t){this.deletetaskvis=!0,this.deletemsg.taskid=t},deleteconfirm:function(){r.a.post("http://172.18.1.169:8081/Normaltask/delete",{groupname:this.groupname,taskid:this.deletemsg.taskid}),this.deletetaskvis=!1,this.shownotification("删除成功！！！"),this.refresh()},deletetaskclose:function(){this.$refs.deleteref.resetFields()},handleChange:function(t){console.log(t)}},watch:{groupname:function(t,e){var a=this;r.a.post("http://172.18.1.169:8081/Normaltask/getTaskdata",{groupname:decodeURI(t)}).then((function(t){return a.taskmanagement=t.data}))},taskid:function(t,e){this.addmsg.taskselect=this.taskid}}}),o=n,d=a("2877"),c=Object(d["a"])(o,s,l,!1,null,null,null);e["default"]=c.exports},"3e8f":function(t,e){}}]);